(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0d14":function(e,t,r){"use strict";var a=r("dd3f"),n=r.n(a);n.a},"1aca":function(e,t,r){"use strict";var a=r("6f68"),n=r.n(a);n.a},2825:function(e,t,r){},"2c3f":function(e,t,r){"use strict";var a=r("ad60"),n=r.n(a);n.a},"3abb":function(e,t,r){},4461:function(e,t,r){"use strict";var a=r("e743"),n=r.n(a);n.a},"4e49":function(e,t,r){"use strict";var a=r("3abb"),n=r.n(a);n.a},"50f6":function(e,t,r){"use strict";var a=r("bac8"),n=r.n(a);n.a},"551e":function(e,t,r){"use strict";var a=r("2825"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("router-view")],1)],1)},s=[],i={data:function(){return{}}},o=i,c=r("2877"),u=r("6544"),l=r.n(u),d=r("7496"),p=r("f6c4"),m=Object(c["a"])(o,n,s,!1,null,null,null),h=m.exports;l()(m,{VApp:d["a"],VMain:p["a"]});var v=r("8c4f"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-container",{staticClass:"app",attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[r("v-card-title",{staticClass:"deep-purple--text text--darken-2 text-h4 font-weight-bold pl-8 mt-3"},[e._v("Sign in")]),r("v-card-text",[r("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Email",rules:e.emailRules,"prepend-icon":"mdi-email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Password",rules:e.passwordRules,type:e.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mx-auto ml-4 mr-4",attrs:{disabled:e.loading||!e.isFormValid,width:"90%",color:"deep-purple white--text"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" Login ")])],1),r("v-card-text",{staticClass:"deep-purple--text text--lighten-1"},[r("p",{staticClass:"text-center mb-1 formLink"},[r("router-link",{attrs:{to:"/forgotPassword"}},[e._v(" Forgot password")])],1),r("p",{staticClass:"text-center mb-1 formLink"},[r("router-link",{attrs:{to:"/register"}},[e._v("Not registered yet? Create an account.")])],1)])],1)],1)],1),r("v-snackbar",{attrs:{"max-width":"80%",timeout:4e3,top:!0,color:"error"},model:{value:e.submitted,callback:function(t){e.submitted=t},expression:"submitted"}},[e._v(" Invalid username or password ")])],1)},w=[],g=(r("498a"),r("96cf"),r("1da1")),b=(r("b0c0"),r("d4ec")),x=function e(t,r,a){Object(b["a"])(this,e),this.name=t,this.email=r,this.password=a},k={data:function(){return{showPassword:!1,loading:!1,user:new x("",""),submitted:!1,isFormValid:!1,emailRules:[function(e){return!!e.trim()||"Email is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}]}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/wishes")},methods:{handleLogin:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("auth/login",e.user);case 4:e.$router.push("/wishes"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.loading=!1,e.submitted=!0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},V=k,C=(r("4461"),r("8336")),_=r("b0af"),y=r("99d9"),R=r("a523"),O=r("4bd4"),j=r("0fd9"),S=r("2db4"),$=r("8654"),P=Object(c["a"])(V,f,w,!1,null,"370f8443",null),F=P.exports;l()(P,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:R["a"],VForm:O["a"],VRow:j["a"],VSnackbar:S["a"],VTextField:$["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-container",{staticClass:"app",attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[r("v-card-title",{staticClass:"deep-purple--text text--darken-2 text-h4 font-weight-bold pl-8 mt-3"},[e._v("Sign up")]),r("v-card-text",[r("v-form",{ref:"form",model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Name",rules:e.nameRules,"prepend-icon":"mdi-account-circle"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Email",rules:e.emailRules,type:"email","prepend-icon":"mdi-email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Password",rules:e.passwordRules,type:e.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mx-auto ml-4 mr-4",attrs:{disabled:!e.isFormValid,width:"90%",color:"deep-purple white--text"},on:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v(" Create account ")])],1),r("v-card-text",{staticClass:"deep-purple--text text--lighten-1"},[r("p",{staticClass:"text-center mb-1 formLink"},[r("router-link",{attrs:{to:"/"}},[e._v("Have an account? Log in.")])],1)])],1)],1)],1),r("v-snackbar",{attrs:{"max-width":"80%",timeout:6e3,top:!0,color:e.successful?"success":"error"},model:{value:e.submitted,callback:function(t){e.submitted=t},expression:"submitted"}},[e._v(" "+e._s(e.message)+" ")])],1)},T=[],I={data:function(){return{showPassword:!1,user:new x("","",""),submitted:!1,successful:!1,isFormValid:!1,message:"",nameRules:[function(e){return e&&!!e.trim()||"Name is required"}],emailRules:[function(e){return e&&!!e.trim()||"Email is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return e&&!!e.trim()||"Password is required"},function(e){return e&&e.length>=8||"Password must be atleast 8 characters long"}]}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/wishes")},methods:{handleRegister:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("auth/register",e.user);case 3:e.$refs.form.reset(),e.message="Created account successfully!",e.submitted=!0,e.successful=!0,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),e.message="An error occured. Could not create the account.",e.successful=!1,e.submitted=!0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},A=I,L=(r("7622"),Object(c["a"])(A,E,T,!1,null,"6241c57e",null)),W=L.exports;l()(L,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:R["a"],VForm:O["a"],VRow:j["a"],VSnackbar:S["a"],VTextField:$["a"]});var M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("navbar"),r("v-main",{staticClass:"app pt-0"},[r("p",{staticClass:"mt-10 mb-12 deep-purple--text text--darken-4 text-center text-h4 text-sm-h3 font-weight-light"},[e._v("Your wishlist")]),e._l(e.wishlist,(function(t){return r("v-card",{key:t._id,staticClass:"my-5 mx-auto",attrs:{elevation:"3",width:"600"}},[r("v-card-title",[r("span",{staticClass:"deep-purple--text text--darken-2"},[e._v(e._s(t.title))]),r("v-spacer"),r("v-icon",{attrs:{color:"deep-purple accent-5"},on:{click:function(r){return e.deleteWish(t._id)}}},[e._v("mdi-delete")])],1),r("v-card-text",[e._v(" "+e._s(t.description)+" ")]),r("v-card-actions",{staticClass:"mt-0 pt-0"},[r("v-btn",{attrs:{text:"",color:"deep-purple accent-5",href:t.link,target:"_blank"}},[e._v(" Buy / View ")])],1)],1)}))],2)],1)},B=[],D=(r("4de4"),r("bee2")),N=r("bc3a"),q=r.n(N);function J(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}var U="https://wishlist20.herokuapp.com/api/",G=function(){function e(){Object(b["a"])(this,e)}return Object(D["a"])(e,[{key:"getSharedWishlist",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get(U+"sharedwishlist/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getWishlist",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get(U+"wishes",{headers:J()});case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createWish",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(U+"wish",{wish:t},{headers:J()});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteWish",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.delete(U+"wish",{headers:J(),params:{wishid:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendPasswordEmail",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(U+"passwordEmail",{email:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(U+"changePassword",{passresetlink:t,newpassword:r});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"resetShareLink",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(U+"resetShareLink",{},{headers:J()});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),H=new G,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",{attrs:{app:"",color:"deep-purple darken-1",dark:""}},[e.$vuetify.breakpoint.smAndDown?r("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}):e._e(),r("v-toolbar-title",{staticClass:"white--text font-weight-light",class:{toptitle:e.$vuetify.breakpoint.mdAndUp}},[e._v("Wishlist")]),r("v-spacer"),e.$vuetify.breakpoint.mdAndUp?r("div",["/wishes"!==e.$route.path?r("v-btn",{attrs:{text:"",color:"#ffffff",to:"/wishes"}},[e._v("My list")]):e._e(),"/addWish"!==e.$route.path?r("v-btn",{attrs:{text:"",color:"#ffffff",to:"/addWish"}},[e._v("Add Wish")]):e._e(),r("v-btn",{attrs:{text:"",color:"#ffffff"},on:{click:function(t){t.stopPropagation(),e.modalOpen=!0}}},[e._v("Share List")]),r("v-btn",{attrs:{text:"",color:"#ffffff"},on:{click:function(t){return t.preventDefault(),e.handleLogout(t)}}},[e._v("Logout")])],1):e._e()],1),e.$vuetify.breakpoint.smAndDown?r("v-navigation-drawer",{attrs:{absolute:"",temporary:"",dark:"",color:"#5E35B1"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{nav:"",dense:""}},[r("v-list-item-group",{attrs:{"active-class":"grey--text text--lighten-3 text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[r("v-list-item",{attrs:{to:"/wishes"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-gift")])],1),r("v-list-item-title",[e._v("My Wishlist")])],1),r("v-list-item",{attrs:{to:"/addWish"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-plus-circle")])],1),r("v-list-item-title",[e._v("Add Wish")])],1)],1),r("v-list-item",{on:{click:function(t){e.modalOpen=!0}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-share-variant")])],1),r("v-list-item-title",[e._v("Share List")])],1),r("v-list-item",{on:{click:function(t){return t.preventDefault(),e.handleLogout(t)}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),r("v-list-item-title",[e._v("Logout")])],1)],1)],1):e._e(),r("share-modal",{model:{value:e.modalOpen,callback:function(t){e.modalOpen=t},expression:"modalOpen"}})],1)},z=[],K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"450"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("v-card",[r("v-card-title",{staticClass:"h1 deep-purple--text text--darken-4"},[e._v("Share your list ")]),r("v-card-text",[e._v(" Others can view your wish-list using the following link - "),r("br"),r("br"),e._v(" "+e._s(e.link)+" ")]),r("v-card-actions",{staticClass:"mt-0"},[r("v-btn",{attrs:{text:"",color:"deep-purple darken-1"},on:{click:e.copyText}},[e._v(" Copy Link ")]),r("v-spacer"),r("v-btn",{attrs:{text:"",color:"deep-purple darken-1"},on:{click:function(t){return t.preventDefault(),e.changeLink(t)}}},[e._v(" New link ")])],1)],1)],1)},Q=[],X=(r("99af"),r("d3b7"),r("25f0"),r("9911"),{name:"ShareModal",props:["value"],data:function(){return{link:"".concat(location.origin.toString(),"/shared/").concat(this.$store.state.auth.user.user.shareablelink)}},computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{copyText:function(){navigator.clipboard.writeText(this.link)},changeLink:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.resetShareLink();case 3:r=t.sent,a=r.link,e.$store.commit("auth/changeShareLink",a),e.link="".concat(location.origin.toString(),"/shared/").concat(a),t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}),Z=X,ee=r("169a"),te=r("2fa4"),re=Object(c["a"])(Z,K,Q,!1,null,null,null),ae=re.exports;l()(re,{VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:ee["a"],VSpacer:te["a"]});var ne={name:"Navbar",components:{ShareModal:ae},data:function(){return{drawer:!1,modalOpen:!1,group:1}},methods:{handleLogout:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/logout");case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}}},se=ne,ie=(r("1aca"),r("40dc")),oe=r("5bc1"),ce=r("132d"),ue=r("8860"),le=r("da13"),de=r("1baa"),pe=r("34c3"),me=r("5d23"),he=r("f774"),ve=r("2a7f"),fe=Object(c["a"])(se,Y,z,!1,null,"7bf0f17c",null),we=fe.exports;l()(fe,{VAppBar:ie["a"],VAppBarNavIcon:oe["a"],VBtn:C["a"],VIcon:ce["a"],VList:ue["a"],VListItem:le["a"],VListItemGroup:de["a"],VListItemIcon:pe["a"],VListItemTitle:me["a"],VNavigationDrawer:he["a"],VSpacer:te["a"],VToolbarTitle:ve["a"]});var ge={components:{Navbar:we},data:function(){return{wishlist:null}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedIn||e.$router.push("/"),t.prev=1,t.next=4,H.getWishlist();case 4:r=t.sent,a=r.data.wishes,e.wishlist=a,t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](1),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},methods:{deleteWish:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.deleteWish(e);case 3:a=r.sent,!0===a.success&&(t.wishlist=t.wishlist.filter((function(t){return t._id!==e}))),r.next=10;break;case 7:throw r.prev=7,r.t0=r["catch"](0),new Error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}},be=ge,xe=(r("ca1a"),Object(c["a"])(be,M,B,!1,null,"2f13094e",null)),ke=xe.exports;l()(xe,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VIcon:ce["a"],VMain:p["a"],VSpacer:te["a"]});var Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("navbar"),r("v-main",{staticClass:"app pt-0"},[r("v-card",{staticClass:"mx-auto card",attrs:{width:"400"}},[r("v-card-title",{staticClass:"deep-purple--text text--darken-4 text-h4 font-weight-light pl-8 mt-3"},[e._v("Add new wish")]),r("v-card-text",[r("v-form",{ref:"form",model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Title",rules:e.titleRules},model:{value:e.wish.title,callback:function(t){e.$set(e.wish,"title",t)},expression:"wish.title"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Description (Optional)"},model:{value:e.wish.description,callback:function(t){e.$set(e.wish,"description",t)},expression:"wish.description"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Buy link (Optional)"},model:{value:e.wish.link,callback:function(t){e.$set(e.wish,"link",t)},expression:"wish.link"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mx-auto mb-5",attrs:{disabled:e.submitted||!e.isFormValid,color:"deep-purple accent-5 white--text",width:"90%"},on:{click:function(t){return t.preventDefault(),e.handleCreate(t)}}},[e._v(" Create ")])],1)],1),r("v-snackbar",{attrs:{timeout:3e3,top:!0,color:e.message.success?"success":"error"},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.message.msg)+" ")])],1)],1)},Ce=[],_e=(r("a4d3"),r("e01a"),function e(t,r,a,n){Object(b["a"])(this,e),this.title=t,this.description=r,this.link=a,this.image=n}),ye={components:{Navbar:we},data:function(){return{wish:new _e("","","",""),submitted:!1,isFormValid:!1,showMessage:!1,message:{},titleRules:[function(e){return e&&!!e.trim()||"Title is required"},function(e){return e&&e.length>=5||"Title must be atleast 5 characters long"}]}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn||this.$router.push("/")},methods:{handleCreate:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitted=!0,t.prev=1,t.next=4,H.createWish(e.wish);case 4:e.$refs.form.reset(),e.submitted=!1,e.showMessage=!0,e.message={success:!0,msg:"Successfully added wish!"},t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),e.submitted=!1,e.showMessage=!0,e.message={success:!1,msg:"Could not add wish due to server error."};case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}},Re=ye,Oe=(r("50f6"),Object(c["a"])(Re,Ve,Ce,!1,null,"53a22c30",null)),je=Oe.exports;l()(Oe,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VForm:O["a"],VMain:p["a"],VSnackbar:S["a"],VTextField:$["a"]});var Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",{staticClass:"app pt-0"},[r("p",{staticClass:"mt-6 mb-10 deep-purple--text text--darken-3 text-center text-h4 text-sm-h3 font-weight-light"},[e._v(e._s(e.name)+"'s wishlist")]),e._l(e.wishlist,(function(t){return r("v-card",{key:t._id,staticClass:"my-5 mx-auto",attrs:{elevation:"3",width:"600"}},[r("v-card-title",[r("span",{staticClass:"deep-purple--text text--darken-2"},[e._v(e._s(t.title))])]),r("v-card-text",[e._v(" "+e._s(t.description)+" ")]),r("v-card-actions",{staticClass:"mt-0 pt-0"},[r("v-btn",{attrs:{text:"",color:"deep-purple accent-5",href:t.link,target:"_blank"}},[e._v(" Buy / View ")])],1)],1)}))],2)],1)},$e=[],Pe={data:function(){return{wishlist:null,name:""}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getSharedWishlist(e.$route.params.id);case 3:r=t.sent,a=r.data,n=a.name,s=a.wishes,e.wishlist=s,e.name=n,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$router.push("/");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},Fe=Pe,Ee=(r("551e"),Object(c["a"])(Fe,Se,$e,!1,null,"f7fea23e",null)),Te=Ee.exports;l()(Ee,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VMain:p["a"]});var Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-container",{staticClass:"app",attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[r("v-card-title",{staticClass:"deep-purple--text text--darken-2 text-h5 text-sm-h4 font-weight-bold pl-8 mt-3"},[e._v("Forgot Password")]),r("v-card-text",[r("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Email",rules:e.emailRules,"prepend-icon":"mdi-email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mx-auto ml-4 mr-4 mb-5",attrs:{link:"",to:"/",color:"deep-purple white--text",width:"30%"}},[e._v(" Back ")]),r("v-spacer"),r("v-btn",{staticClass:"mx-auto ml-4 mr-4 mb-5",attrs:{disabled:e.loading||!e.isFormValid,width:"30%",color:"deep-purple white--text"},on:{click:function(t){return t.preventDefault(),e.handleForgotPassword(t)}}},[e._v(" Submit ")])],1)],1)],1)],1),r("v-snackbar",{attrs:{timeout:4e3,top:!0,color:"success"},model:{value:e.submitted,callback:function(t){e.submitted=t},expression:"submitted"}},[e._v(" A password reset link will been sent to email if it is valid. ")])],1)},Ae=[],Le={data:function(){return{email:"",isFormValid:!1,loading:!1,submitted:!1,emailRules:[function(e){return!!e.trim()||"Email is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:{handleForgotPassword:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,H.sendPasswordEmail(e.email);case 4:e.submitted=!0,e.loading=!1,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),e.submitted=!0,e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},We=Le,Me=(r("4e49"),Object(c["a"])(We,Ie,Ae,!1,null,"da02c2f4",null)),Be=Me.exports;l()(Me,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:R["a"],VForm:O["a"],VRow:j["a"],VSnackbar:S["a"],VSpacer:te["a"],VTextField:$["a"]});var De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-container",{staticClass:"app",attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[r("v-card-title",{staticClass:"deep-purple--text text--darken-2 text-h5 text-sm-h4 pl-8 mt-3"},[e._v("Change Password")]),r("v-card-text",[r("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Password",rules:e.password1Rules,type:"password","prepend-icon":"mdi-lock"},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),r("v-text-field",{staticClass:"pl-3 pr-5",attrs:{label:"Confirm Password",rules:e.password2Rules,type:"password","prepend-icon":"mdi-lock"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mx-auto ml-4 mr-4 mb-5",attrs:{disabled:e.loading||!e.isFormValid||e.password1!==e.password2,width:"40%",color:"deep-purple white--text"},on:{click:function(t){return t.preventDefault(),e.handleChangePassword(t)}}},[e._v(" Submit ")]),r("v-spacer"),r("v-btn",{staticClass:"mx-auto ml-4 mr-4 mb-5",attrs:{to:"/",width:"40%",color:"deep-purple white--text"}},[e._v(" Back to login ")])],1)],1)],1)],1),r("v-snackbar",{attrs:{timeout:4e3,top:!0,color:e.message.success?"success":"error"},model:{value:e.submitted,callback:function(t){e.submitted=t},expression:"submitted"}},[e._v(" "+e._s(e.message.msg)+" ")])],1)},Ne=[],qe={data:function(){var e=this;return{password1:"",password2:"",isFormValid:!1,loading:!1,submitted:!1,message:{},password1Rules:[function(e){return e&&!!e.trim()||"Password is required"},function(e){return e&&e.length>=8||"Password must be atleast 8 characters long"}],password2Rules:[function(e){return e&&!!e.trim()||"This field is required"},function(){return e.password1===e.password2||"Passwords do not match"}]}},methods:{handleChangePassword:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,H.changePassword(e.$route.params.id,e.password1);case 4:e.submitted=!0,e.loading=!1,e.message={success:!0,msg:"Password changed successfully"},t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),e.submitted=!0,e.loading=!1,e.message={success:!1,msg:"Could not change password due to server error"};case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},Je=qe,Ue=(r("0d14"),Object(c["a"])(Je,De,Ne,!1,null,"3e9f6302",null)),Ge=Ue.exports;l()(Ue,{VApp:d["a"],VBtn:C["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:R["a"],VForm:O["a"],VRow:j["a"],VSnackbar:S["a"],VSpacer:te["a"],VTextField:$["a"]});var He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-container",{staticClass:"app",attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("h1",{staticClass:"white--text text-h1"},[e._v("404")])])],1)],1)},Ye=[],ze=(r("2c3f"),{}),Ke=Object(c["a"])(ze,He,Ye,!1,null,"65c303ee",null),Qe=Ke.exports;l()(Ke,{VApp:d["a"],VContainer:R["a"],VRow:j["a"]}),a["a"].use(v["a"]);var Xe=[{path:"/",name:"Login",component:F},{path:"/register",name:"Register",component:W},{path:"/wishes",name:"Wishes",component:ke},{path:"/addWish",name:"AddWish",component:je},{path:"/shared/:id",name:"SharedList",component:Te},{path:"/changePassword/:id",name:"ChangePassword",component:Ge},{path:"/forgotPassword",name:"ForgotPassword",component:Be},{path:"*",component:Qe}],Ze=new v["a"]({mode:"history",base:"/",routes:Xe}),et=Ze,tt=r("f309");a["a"].use(tt["a"]);var rt=new tt["a"]({}),at=r("2f62"),nt="https://wishlist20.herokuapp.com/auth/",st=function(){function e(){Object(b["a"])(this,e)}return Object(D["a"])(e,[{key:"login",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(nt+"login",{email:t.email,password:t.password});case 3:return r=e.sent,r.data.token&&(a={token:r.data.token,user:r.data.user},localStorage.setItem("user",JSON.stringify(a))),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e["catch"](0),new Error(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(nt+"signup",{name:t.name,email:t.email,password:t.password});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),it=new st,ot=JSON.parse(localStorage.getItem("user")),ct=ot?{status:{loggedIn:!0},user:ot}:{status:{loggedIn:!1},user:null},ut={namespaced:!0,state:ct,actions:{login:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,r.prev=1,r.next=4,it.login(t);case 4:n=r.sent,n&&a("loginSuccess",n),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](1),a("loginFailure"),new Error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},logout:function(e){var t=e.commit;it.logout(),t("logout")},register:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,r.prev=1,r.next=4,it.register(t);case 4:n=r.sent,n&&a("registerSuccess"),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](1),a("registerFailure"),new Error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1},changeShareLink:function(e,t){e.user.user.shareablelink=t}}};a["a"].use(at["a"]);var lt=new at["a"].Store({modules:{auth:ut}});a["a"].config.productionTip=!1,new a["a"]({router:et,vuetify:rt,store:lt,render:function(e){return e(h)}}).$mount("#app")},"6f68":function(e,t,r){},7622:function(e,t,r){"use strict";var a=r("8cf1"),n=r.n(a);n.a},"8cf1":function(e,t,r){},"9bd1":function(e,t,r){},ad60:function(e,t,r){},bac8:function(e,t,r){},ca1a:function(e,t,r){"use strict";var a=r("9bd1"),n=r.n(a);n.a},dd3f:function(e,t,r){},e743:function(e,t,r){}});
//# sourceMappingURL=app.d45d5e6b.js.map